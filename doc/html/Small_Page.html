<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
            "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
 <head>
  <title>Embryo: Brief Introduction to Small</title>
  <link href="e.css" rel="stylesheet" type="text/css" />
 </head>

<body>
 <table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr>
   <td class="t" width="50%" valign="top" align="left">
     <table width="100px" height="100px" border="0" cellpadding="0" cellspacing="0">
     <tr><td class="lnav"><a class="nav" href="http://web.enlightenment.org/p.php?p=index">Home</a></td></tr>
     <tr><td class="lnav"><a class="nav" href="http://web.enlightenment.org/p.php?p=news">News</a></td></tr>
     <tr><td class="lnav"><a class="nav" href="http://web.enlightenment.org/p.php?p=about">About</a></td></tr>
     <tr><td class="rnav"><a class="nav" href="http://web.enlightenment.org/p.php?p=download">Download</a></td></tr>
    </table>
   </td>
   <td class="tl" width="612" height="250" valign="bottom" align="center">
    <img src="_.gif" width="612" height="1" />
    <table border="0" cellpadding="0" cellspacing="4px">
     <tr>
      <td class='nav'><a class='nav' href="index.html">Main&nbsp;Page</a></td>
      <td class='nav'><a class='nav' href="modules.html">Modules</a></td>
      <td class='nav'><a class='nav' href="Embryo_8h.html">API Reference</a></td>
      <td class="nav"><a class="nav" href="pages.html">Related Pages</a></td>
     </tr>
    </table>
    <hr />
   </td>
   <td class="t" width="50%" valign="top" align="right">
    <table width="100px" height="100px" border="0" cellpadding="0" cellspacing="0">
     <tr><td class="rnav"><a class="nav" href="http://web.enlightenment.org/p.php?p=support">Support</a></td></tr>
     <tr><td class="lnav"><a class="nav" href="http://web.enlightenment.org/p.php?p=contribute">Contribute</a></td></tr>
     <tr><td class="lnav"><a class="nav" href="http://web.enlightenment.org/p.php?p=contact">Contact</a></td></tr>
     <tr><td class="lnav"><a class="nav" href="http://trac.enlightenment.org/e">Tracker</a></td></tr>
    </table>
   </td>
  </tr>
 </table>

 <div class="main">
<!-- Generated by Doxygen 1.5.5 -->
<div class="contents">
<h1><a class="anchor" name="Small_Page">Brief Introduction to Small </a></h1>This section describes the basics of Small, as compiled and interpreted with Embryo.<p>
For the full documentation, of which this is a summary, see  <a href=http://www.compuphase.com/smalldoc.pdf>Small Language Booklet</a>
 <p>
This summary assumes that you are familar with C. For a full list of differences between C and Small, again, see the full documentation.<h2><a class="anchor" name="Small_Variables_Section">
Variables</a></h2>
<h3><a class="anchor" name="Small_Type_Subsection">
Types</a></h3>
There is only one type, known as the "cell", which can hold an integer.<h3><a class="anchor" name="Small_Scope_Subsection">
Scope</a></h3>
The scope and usage of a variable depends on its declaration.<p>
<ul>
<li>A local variable is normally declared with the <code>new</code> keyword. E.g. <div class="fragment"><pre class="fragment"> <span class="keyword">new</span> variable 
</pre></div> </li>
<li>A static function variable is defined within a function with the <code>static</code> keyword. </li>
<li>A global static variable is one that is only available within the file it was declared in. Again, use the <code>static</code> keyword, but outside of any function. </li>
<li>A stock variable is one that may not be compiled into a program if it is not used. It is declared using <code>stock</code>. </li>
<li>A public variable is one that can be read by the host program using <a class="el" href="group__Embryo__Public__Variable__Group.html#g9714d1cbd46b3b0315a71c23413ad921">embryo_program_variable_find</a>. It is declared using <code>public</code> keyword.</li>
</ul>
Remember that the keywords above are to be used on their own. That is, for example: <div class="fragment"><pre class="fragment"> <span class="keyword">public</span> testvar 
</pre></div> not: <div class="fragment"><pre class="fragment"> <span class="keyword">new</span> <span class="keyword">public</span> testvar 
</pre></div><h3><a class="anchor" name="Small_Constants_Subsection">
Constants</a></h3>
You can declare constants in two ways: <ul>
<li>Using the preprocessor macro <code>define</code>. </li>
<li>By inserting <code>const</code> between the keyword and variable name of a variable declaration. For example, to declare the variable <code>var1</code> constant, you type <div class="fragment"><pre class="fragment"> <span class="keyword">new</span> <span class="keyword">const</span> var1 = 2 
</pre></div> Now <code>var1</code> cannot be changed.</li>
</ul>
<h3><a class="anchor" name="Small_Arrays_Subsection">
Arrays</a></h3>
To declare an array, append square brackets to the end of the variable name. The following examples show how to declare arrays. Note the use of the ellipsis operator, which bases the array based on the last two declared values:<p>
<div class="fragment"><pre class="fragment"><span class="keyword">new</span> msg[] = <span class="stringliteral">"A message."</span>
<span class="keyword">new</span> ints[] = {1, 3, 4}
<span class="keyword">new</span> ints2[20] = {1, 3}         <span class="comment">// All other elements 0.</span>
<span class="keyword">new</span> ints3[10] = {1, ... }      <span class="comment">// All elements = 1</span>
<span class="keyword">new</span> ints4[10] = {10, 20, ... } <span class="comment">// Elements = 10 -&gt; 100.</span>
                               <span class="comment">// The difference can be negative.</span>
<span class="keyword">new</span> ints5[3][3] = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}}
</pre></div><p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Array initialisers need to be constant.</dd></dl>
<h2><a class="anchor" name="Small_Func_Calls_Section">
Function Calls</a></h2>
A typical function declaration is as follows:<p>
<div class="fragment"><pre class="fragment">testfunc(param) {
  <span class="comment">// Do something ...</span>
  <span class="comment">// over a couple of lines.</span>
}
</pre></div><p>
You can pass by reference. That is, the parameter you pass is changed outside of the function. For example:<p>
<div class="fragment"><pre class="fragment">testfunc(&amp;param) {
  param = 10
  <span class="comment">// The passed variable will be set to 10 outside of the function.</span>
}
</pre></div><p>
To pass an array:<p>
<div class="fragment"><pre class="fragment">testfunc(param[]) {
  <span class="comment">// Do something to the array</span>
}
</pre></div><p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Arrays are passed by reference.</dd></dl>
<h2><a class="anchor" name="Small_Control_Subsection">
Control Structures.</a></h2>
Small has the following control structures, which similar to their C counterparts: <ul>
<li><div class="fragment"><pre class="fragment"> <span class="keywordflow">if</span> (expression) statement1 <span class="keywordflow">else</span> statement2 
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"> <span class="keywordflow">switch</span> (expression) {
  <span class="keywordflow">case</span> 0:
    statement1 <span class="comment">// Can only be one statement.  Look Ma, no breaks!</span>
  <span class="keywordflow">case</span> 1..3:   <span class="comment">// For values between 1 and 3 inclusive.</span>
    statement2
  <span class="keywordflow">default</span>:     <span class="comment">// Optional</span>
    statement3
}
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"> <span class="keywordflow">while</span>(expression) statement 
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"> <span class="keywordflow">do</span> statement <span class="keywordflow">while</span> (expression) 
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"> <span class="keywordflow">for</span> (init_expression; before_iter_test_expression; after_iter_expression) statement 
</pre></div></li>
</ul>
<h2><a class="anchor" name="Small_Preprocessor_Section">
Preprocessor</a></h2>
The following preprocessor directives are available: <ul>
<li><div class="fragment"><pre class="fragment"><span class="preprocessor"> #assert constant_expression </span>
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"><span class="preprocessor"> #define pattern replacement </span>
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"><span class="preprocessor"> #define pattern(%1,%2,...) replacement </span>
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"><span class="preprocessor"> #include filename </span>
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"><span class="preprocessor"> #if constant_expression</span>
<span class="preprocessor"></span>  <span class="comment">// Various bits of code</span>
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>  <span class="comment">// Other bits of code</span>
<span class="preprocessor">#endif </span>
</pre></div> </li>
<li><div class="fragment"><pre class="fragment"><span class="preprocessor"> #undef pattern </span>
</pre></div> </li>
</ul>
</div>
  </div>
  <hr />
  <p class="tiny">Copyright &copy; Enlightenment.org</p>
  <p class="tiny">Embryo Documentation Generated: Thu Sep 25 12:30:22 2008</p>
 </body>
</html>
